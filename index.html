<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IceStats - Analyse Hockey & Aide aux Paris</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a1929 0%, #1a3a52 50%, #0d2d47 100%);
            color: #e0e0e0;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* PIN LOGIN */
        .pin-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 25, 41, 0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .pin-modal.hidden {
            display: none;
        }

        .pin-box {
            background: linear-gradient(135deg, #1a3a52 0%, #0d2d47 100%);
            border: 2px solid #2d5a7b;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            min-width: 300px;
            box-shadow: 0 10px 40px rgba(45, 90, 123, 0.3);
        }

        .pin-box h1 {
            color: #64b5f6;
            margin-bottom: 30px;
            font-size: 28px;
            text-shadow: 0 2px 10px rgba(100, 181, 246, 0.3);
        }

        .pin-input {
            width: 100%;
            padding: 12px;
            font-size: 20px;
            text-align: center;
            letter-spacing: 5px;
            border: 2px solid #2d5a7b;
            background: rgba(45, 90, 123, 0.2);
            color: #64b5f6;
            border-radius: 8px;
            margin-bottom: 20px;
            transition: all 0.3s;
        }

        .pin-input:focus {
            outline: none;
            border-color: #64b5f6;
            box-shadow: 0 0 20px rgba(100, 181, 246, 0.3);
        }

        .pin-btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #2d5a7b 0%, #1a3a52 100%);
            color: #64b5f6;
            border: 2px solid #64b5f6;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .pin-btn:hover {
            background: linear-gradient(135deg, #1a3a52 0%, #0d2d47 100%);
            box-shadow: 0 0 20px rgba(100, 181, 246, 0.5);
        }

        .pin-error {
            color: #ff6b6b;
            margin-top: 10px;
            display: none;
        }

        /* HEADER */
        header {
            background: linear-gradient(135deg, #0d2d47 0%, #1a3a52 100%);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid #2d5a7b;
            box-shadow: 0 5px 20px rgba(45, 90, 123, 0.2);
        }

        header h1 {
            color: #64b5f6;
            font-size: 28px;
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(100, 181, 246, 0.2);
        }

        .league-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .league-btn {
            padding: 10px 20px;
            border: 2px solid #2d5a7b;
            background: rgba(45, 90, 123, 0.2);
            color: #64b5f6;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .league-btn.active {
            background: linear-gradient(135deg, #2d5a7b 0%, #1a3a52 100%);
            border-color: #64b5f6;
            box-shadow: 0 0 15px rgba(100, 181, 246, 0.3);
        }

        .league-btn:hover {
            border-color: #64b5f6;
            transform: translateY(-2px);
        }

        /* TABS */
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #2d5a7b;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 12px 24px;
            background: transparent;
            border: none;
            color: #90caf9;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .tab-btn.active {
            color: #64b5f6;
            border-bottom-color: #64b5f6;
            box-shadow: 0 3px 10px rgba(100, 181, 246, 0.2);
        }

        .tab-btn:hover {
            color: #64b5f6;
        }

        /* CONTENT SECTIONS */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .card {
            background: linear-gradient(135deg, rgba(45, 90, 123, 0.2) 0%, rgba(13, 45, 71, 0.2) 100%);
            border: 1px solid #2d5a7b;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 20px rgba(45, 90, 123, 0.2);
            transition: all 0.3s;
        }

        .card:hover {
            border-color: #64b5f6;
            box-shadow: 0 8px 30px rgba(100, 181, 246, 0.2);
            transform: translateY(-5px);
        }

        .card h3 {
            color: #64b5f6;
            margin-bottom: 15px;
            font-size: 18px;
        }

        /* CALENDAR */
        .calendar-item {
            background: linear-gradient(135deg, rgba(45, 90, 123, 0.15) 0%, rgba(13, 45, 71, 0.15) 100%);
            border-left: 4px solid #64b5f6;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            transition: all 0.3s;
        }

        .calendar-item:hover {
            background: linear-gradient(135deg, rgba(45, 90, 123, 0.25) 0%, rgba(13, 45, 71, 0.25) 100%);
        }

        .match-date {
            color: #90caf9;
            font-size: 14px;
            margin-bottom: 8px;
            font-weight: bold;
        }

        .match-teams {
            color: #e0e0e0;
            margin-bottom: 8px;
            font-size: 16px;
            font-weight: bold;
        }

        .match-info {
            color: #9db4c4;
            font-size: 13px;
        }

        .match-time {
            color: #64b5f6;
            font-weight: bold;
        }

        /* STATS TABLE */
        .stats-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        .stats-table thead {
            background: linear-gradient(135deg, #2d5a7b 0%, #1a3a52 100%);
        }

        .stats-table th {
            padding: 12px;
            text-align: left;
            color: #64b5f6;
            font-weight: bold;
            border-bottom: 2px solid #2d5a7b;
        }

        .stats-table td {
            padding: 12px;
            border-bottom: 1px solid #2d5a7b;
            color: #e0e0e0;
        }

        .stats-table tr:hover {
            background: rgba(45, 90, 123, 0.2);
        }

        /* BETTING INSIGHTS */
        .insight {
            background: linear-gradient(135deg, rgba(100, 181, 246, 0.1) 0%, rgba(45, 90, 123, 0.1) 100%);
            border-left: 4px solid #64b5f6;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
        }

        .insight-title {
            color: #64b5f6;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .insight-content {
            color: #e0e0e0;
            font-size: 14px;
            line-height: 1.6;
        }

        /* BADGES */
        .badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            margin-right: 8px;
            margin-bottom: 8px;
        }

        .badge-hot {
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
            border: 1px solid #ff6b6b;
        }

        .badge-cold {
            background: rgba(100, 181, 246, 0.2);
            color: #64b5f6;
            border: 1px solid #64b5f6;
        }

        .badge-recommend {
            background: rgba(100, 200, 100, 0.2);
            color: #64c864;
            border: 1px solid #64c864;
        }

        /* LOADING */
        .loading {
            text-align: center;
            padding: 40px;
            color: #90caf9;
        }

        .spinner {
            border: 3px solid rgba(100, 181, 246, 0.2);
            border-top-color: #64b5f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 0.8s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .cards-grid {
                grid-template-columns: 1fr;
            }

            header h1 {
                font-size: 20px;
            }

            .league-nav {
                gap: 8px;
            }

            .league-btn {
                padding: 8px 16px;
                font-size: 12px;
            }
        }

        /* ANIMATIONS */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card, .calendar-item, .insight {
            animation: fadeIn 0.5s ease-out;
        }

        /* DATE SECTION HEADER */
        .date-section-header {
            color: #64b5f6;
            font-size: 16px;
            font-weight: bold;
            margin-top: 25px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #2d5a7b;
        }

        .date-section-header:first-child {
            margin-top: 0;
        }
    </style>
</head>
<body>
    <!-- PIN MODAL -->
    <div class="pin-modal" id="pinModal">
        <div class="pin-box">
            <h1>üèí IceStats</h1>
            <p style="margin-bottom: 20px; color: #90caf9;">Analyse Hockey & Aide aux Paris</p>
            <input type="password" id="pinInput" class="pin-input" placeholder="Code PIN" maxlength="4">
            <button class="pin-btn" onclick="checkPin()">Acc√©der</button>
            <div class="pin-error" id="pinError">Code PIN incorrect</div>
        </div>
    </div>

    <!-- MAIN CONTENT -->
    <div id="mainContent" class="container" style="display: none;">
        <header>
            <h1>üèí IceStats - Analyse Hockey & Aide aux Paris</h1>
            <div class="league-nav">
                <button class="league-btn active" onclick="switchLeague('nhl')">üá∫üá∏ NHL</button>
                <button class="league-btn" onclick="switchLeague('liiga')">üá´üáÆ LIIGA</button>
                <button class="league-btn" onclick="switchLeague('ahl')">üá®üá¶ AHL</button>
            </div>
            <div style="color: #90caf9; font-size: 14px;">
                ‚è∞ Derni√®re mise √† jour: <span id="updateTime">--:--</span>
                <button onclick="refreshData()" style="margin-left: 20px; padding: 8px 16px; background: #2d5a7b; border: 1px solid #64b5f6; color: #64b5f6; border-radius: 5px; cursor: pointer;">üîÑ Actualiser</button>
            </div>
        </header>

        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('calendar')">üìÖ Calendrier</button>
            <button class="tab-btn" onclick="switchTab('topscorers')">‚≠ê Meilleurs Buteurs</button>
            <button class="tab-btn" onclick="switchTab('standings')">üìä Classements</button>
            <button class="tab-btn" onclick="switchTab('insights')">üí° Aide aux Paris</button>
        </div>

        <!-- CALENDAR TAB -->
        <div id="calendar" class="tab-content active">
            <div id="calendarContent" class="loading">
                <div class="spinner"></div>
                Chargement du calendrier...
            </div>
        </div>

        <!-- TOP SCORERS TAB -->
        <div id="topscorers" class="tab-content">
            <div id="scorersContent" class="loading">
                <div class="spinner"></div>
                Chargement des meilleurs buteurs...
            </div>
        </div>

        <!-- STANDINGS TAB -->
        <div id="standings" class="tab-content">
            <div id="standingsContent" class="loading">
                <div class="spinner"></div>
                Chargement des classements...
            </div>
        </div>

        <!-- BETTING INSIGHTS TAB -->
        <div id="insights" class="tab-content">
            <div id="insightsContent" class="loading">
                <div class="spinner"></div>
                Analyse des tendances...
            </div>
        </div>
    </div>

    <script>
        const PIN_CODE = '1234';
        let currentLeague = 'nhl';
        let leagueData = {};
        let lastUpdate = new Date();

        // PIN VERIFICATION
        function checkPin() {
            const pin = document.getElementById('pinInput').value;
            const error = document.getElementById('pinError');

            if (pin === PIN_CODE) {
                document.getElementById('pinModal').classList.add('hidden');
                document.getElementById('mainContent').style.display = 'block';
                loadAllData();
            } else {
                error.style.display = 'block';
                document.getElementById('pinInput').value = '';
                setTimeout(() => error.style.display = 'none', 3000);
            }
        }

        document.getElementById('pinInput')?.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') checkPin();
        });

        // LEAGUE SWITCHING
        function switchLeague(league) {
            currentLeague = league;
            document.querySelectorAll('.league-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            loadAllData();
        }

        // TAB SWITCHING
        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // LOAD ALL DATA
        async function loadAllData() {
            const contentIds = ['calendarContent', 'scorersContent', 'standingsContent', 'insightsContent'];
            contentIds.forEach(id => {
                document.getElementById(id).innerHTML = '<div class="loading"><div class="spinner"></div>Chargement...</div>';
            });

            if (currentLeague === 'nhl') {
                await loadNHLData();
            } else if (currentLeague === 'liiga') {
                loadLIIGAData();
            } else {
                loadAHLData();
            }

            updateTime();
        }

        // FETCH NHL DATA
        async function loadNHLData() {
            try {
                // Calendrier (vraies donn√©es NHL)
                const calendarUrl = 'https://statsapi.web.nhl.com/api/v1/schedule?startDate=' + 
                    getFormattedDate(0) + '&endDate=' + getFormattedDate(14);
                
                const calendarResponse = await fetch(calendarUrl);
                const calendarData = await calendarResponse.json();
                
                // Stats g√©n√©rales
                const standingsUrl = 'https://statsapi.web.nhl.com/api/v1/standings';
                const standingsResponse = await fetch(standingsUrl);
                const standingsData = await standingsResponse.json();

                leagueData = {
                    calendar: calendarData.dates || [],
                    standings: standingsData.records || [],
                    topScorers: await fetchNHLTopScorers(),
                    insights: generateInsights(calendarData.dates || [])
                };

                displayCalendar();
                displayScorers();
                displayStandings();
                displayInsights();

            } catch (error) {
                console.error('Erreur NHL:', error);
                loadNHLDemo();
            }
        }

        // FETCH NHL TOP SCORERS
        async function fetchNHLTopScorers() {
            try {
                const response = await fetch('https://statsapi.web.nhl.com/api/v1/stats?stats=statsSingleSeason');
                const data = await response.json();
                return data.data?.slice(0, 25) || [];
            } catch {
                return [];
            }
        }

        // LOAD LIIGA DATA (Demo + Scraping Ready)
        function loadLIIGAData() {
            leagueData = {
                calendar: generateLIIGACalendar(),
                standings: generateLIIGAStandings(),
                topScorers: generateLIIGAScorers(),
                insights: []
            };

            displayCalendar();
            displayScorers();
            displayStandings();
            displayInsights();
        }

        // LOAD AHL DATA (Demo)
        function loadAHLData() {
            leagueData = {
                calendar: generateAHLCalendar(),
                standings: generateAHLStandings(),
                topScorers: generateAHLScorers(),
                insights: []
            };

            displayCalendar();
            displayScorers();
            displayStandings();
            displayInsights();
        }

        // CALENDAR DISPLAY
        function displayCalendar() {
            const container = document.getElementById('calendarContent');
            let html = '';
            let currentDate = '';

            if (currentLeague === 'nhl' && leagueData.calendar?.length) {
                leagueData.calendar.forEach(day => {
                    if (day.date !== currentDate) {
                        currentDate = day.date;
                        const dateObj = new Date(day.date);
                        const dateStr = dateObj.toLocaleDateString('fr-FR', { 
                            weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' 
                        });
                        html += `<div class="date-section-header">${dateStr}</div>`;
                    }

                    day.games?.forEach(game => {
                        const time = new Date(game.gameDateTime).toLocaleTimeString('fr-FR', { 
                            hour: '2-digit', minute: '2-digit' 
                        });
                        const status = game.status.abstractGameState;
                        
                        html += `
                            <div class="calendar-item">
                                <div class="match-date">üèüÔ∏è ${game.venue.name}</div>
                                <div class="match-teams">
                                    ${game.teams.away.team.name} @ ${game.teams.home.team.name}
                                </div>
                                <div class="match-info">
                                    <span class="match-time">‚è∞ ${time}</span>
                                    ${status === 'Final' ? `<span style="color: #90caf9;"> | Score: ${game.teams.away.score} - ${game.teams.home.score}</span>` : ''}
                                </div>
                            </div>
                        `;
                    });
                });
            } else {
                leagueData.calendar?.forEach(match => {
                    html += `
                        <div class="calendar-item">
                            <div class="match-date">${match.date}</div>
                            <div class="match-teams">${match.away} @ ${match.home}</div>
                            <div class="match-info">‚è∞ ${match.time} | üìç ${match.venue}</div>
                        </div>
                    `;
                });
            }

            container.innerHTML = html || '<div style="color: #90caf9; text-align: center; padding: 40px;">Aucun match trouv√©</div>';
        }

        // SCORERS DISPLAY
        function displayScorers() {
            const container = document.getElementById('scorersContent');
            let html = '<table class="stats-table"><thead><tr><th>Rang</th><th>Joueur</th><th>√âquipe</th><th>Buts</th><th>Assists</th><th>Points</th></tr></thead><tbody>';

            const scorers = leagueData.topScorers || [];
            scorers.slice(0, 20).forEach((scorer, idx) => {
                const goals = scorer.goals || 0;
                const assists = scorer.assists || 0;
                const points = goals + assists;
                
                html += `
                    <tr>
                        <td>${idx + 1}</td>
                        <td>${scorer.person?.fullName || scorer.name || 'N/A'}</td>
                        <td>${scorer.teamName || scorer.team || 'N/A'}</td>
                        <td>${goals}</td>
                        <td>${assists}</td>
                        <td><strong>${points}</strong></td>
                    </tr>
                `;
            });

            html += '</tbody></table>';
            container.innerHTML = html;
        }

        // STANDINGS DISPLAY
        function displayStandings() {
            const container = document.getElementById('standingsContent');
            let html = '<table class="stats-table"><thead><tr><th>Position</th><th>√âquipe</th><th>PJ</th><th>V</th><th>D</th><th>Points</th></tr></thead><tbody>';

            const standings = leagueData.standings || [];
            standings.forEach(div => {
                div.teamRecords?.forEach((team, idx) => {
                    html += `
                        <tr>
                            <td>${idx + 1}</td>
                            <td>${team.team?.name || team.name || 'N/A'}</td>
                            <td>${team.gamesPlayed || 0}</td>
                            <td>${team.wins || 0}</td>
                            <td>${team.losses || 0}</td>
                            <td><strong>${team.points || 0}</strong></td>
                        </tr>
                    `;
                });
            });

            html += '</tbody></table>';
            container.innerHTML = html;
        }

        // INSIGHTS DISPLAY
        function displayInsights() {
            const container = document.getElementById('insightsContent');
            let html = '';

            // Matchs d'aujourd'hui
            const today = new Date().toISOString().split('T')[0];
            const todayMatches = leagueData.calendar?.filter(d => d.date === today)?.[0]?.games || [];

            if (todayMatches.length > 0) {
                html += '<h3 style="color: #64b5f6; margin-bottom: 15px;">üéØ Analyse d\'Aujourd\'hui</h3>';
                
                todayMatches.forEach(game => {
                    const away = game.teams.away.team.name;
                    const home = game.teams.home.team.name;
                    const insight = analyzeMatch(game);
                    
                    html += `
                        <div class="insight">
                            <div class="insight-title">‚ö° ${away} vs ${home}</div>
                            <div class="insight-content">
                                <p>${insight.recommendation}</p>
                                <p>üìä Tendance: ${insight.trend}</p>
                                <p>üé≤ Confiance: ${insight.confidence}/10</p>
                            </div>
                        </div>
                    `;
                });
            }

            // Top performers
            html += '<h3 style="color: #64b5f6; margin-bottom: 15px; margin-top: 30px;">‚≠ê Meilleurs Performers</h3>';
            
            const topScorers = leagueData.topScorers?.slice(0, 5) || [];
            topScorers.forEach(scorer => {
                const goals = scorer.goals || 0;
                const assists = scorer.assists || 0;
                const points = goals + assists;
                const avgPerGame = ((points / (scorer.gamesPlayed || 1)) * 10).toFixed(1);
                
                html += `
                    <div class="insight">
                        <div class="insight-title">üèÜ ${scorer.person?.fullName || scorer.name} - ${scorer.teamName || scorer.team}</div>
                        <div class="insight-content">
                            <span class="badge badge-recommend">En forme üî•</span>
                            <p>üìà Points: ${points} (${avgPerGame}/match en moyenne)</p>
                            <p>üéØ Ratio: ${goals}B - ${assists}A - ${points}Pts</p>
                        </div>
                    </div>
                `;
            });

            container.innerHTML = html || '<div style="color: #90caf9; text-align: center; padding: 40px;">Analyse en cours...</div>';
        }

        // ANALYSIS FUNCTION
        function analyzeMatch(game) {
            const homeTeam = game.teams.home.team.name;
            const awayTeam = game.teams.away.team.name;
            const homeRank = Math.floor(Math.random() * 16);
            const awayRank = Math.floor(Math.random() * 16);

            let recommendation = '';
            let trend = '';
            let confidence = 6;

            if (homeRank < awayRank) {
                recommendation = `${homeTeam} est favori. Bonne opportunit√© pour parier sur un match serr√©.`;
                trend = `${homeTeam} en meilleure position (+${homeRank - awayRank} places)`;
                confidence = 7;
            } else {
                recommendation = `${awayTeam} pour une belle cote. √âquipe en bonne forme.`;
                trend = `${awayTeam} remontent (+${awayRank - homeRank} places)`;
                confidence = 6;
            }

            return { recommendation, trend, confidence };
        }

        // GENERATE DATA
        function getFormattedDate(daysOffset) {
            const date = new Date();
            date.setDate(date.getDate() + daysOffset);
            return date.toISOString().split('T')[0];
        }

        function generateLIIGACalendar() {
            const matches = [];
            const teams = ['Liiga Team 1', 'Liiga Team 2', 'Liiga Team 3', 'Liiga Team 4'];
            const venues = ['Ar√®ne LIIGA 1', 'Ar√®ne LIIGA 2', 'Ar√®ne LIIGA 3'];
            
            for (let i = 0; i < 10; i++) {
                const date = new Date();
                date.setDate(date.getDate() + i);
                matches.push({
                    date: date.toLocaleDateString('fr-FR'),
                    away: teams[Math.floor(Math.random() * teams.length)],
                    home: teams[Math.floor(Math.random() * teams.length)],
                    time: `${Math.floor(Math.random() * 12) + 18}:${Math.random() > 0.5 ? '00' : '30'}`,
                    venue: venues[Math.floor(Math.random() * venues.length)]
                });
            }
            return matches;
        }

        function generateAHLCalendar() {
            const matches = [];
            const teams = ['AHL Team 1', 'AHL Team 2', 'AHL Team 3', 'AHL Team 4'];
            const venues = ['Ar√®ne AHL 1', 'Ar√®ne AHL 2', 'Ar√®ne AHL 3'];
            
            for (let i = 0; i < 10; i++) {
                const date = new Date();
                date.setDate(date.getDate() + i);
                matches.push({
                    date: date.toLocaleDateString('fr-FR'),
                    away: teams[Math.floor(Math.random() * teams.length)],
                    home: teams[Math.floor(Math.random() * teams.length)],
                    time: `${Math.floor(Math.random() * 12) + 18}:${Math.random() > 0.5 ? '00' : '30'}`,
                    venue: venues[Math.floor(Math.random() * venues.length)]
                });
            }
            return matches;
        }

        function generateLIIGAScorers() {
            return [
                { name: 'Joueur LIIGA 1', team: 'Team 1', goals: 25, assists: 18 },
                { name: 'Joueur LIIGA 2', team: 'Team 2', goals: 22, assists: 16 },
                { name: 'Joueur LIIGA 3', team: 'Team 3', goals: 20, assists: 14 }
            ];
        }

        function generateAHLScorers() {
            return [
                { name: 'Joueur AHL 1', team: 'AHL Team 1', goals: 28, assists: 20 },
                { name: 'Joueur AHL 2', team: 'AHL Team 2', goals: 24, assists: 18 },
                { name: 'Joueur AHL 3', team: 'AHL Team 3', goals: 22, assists: 16 }
            ];
        }

        function generateLIIGAStandings() {
            return [{
                teamRecords: [
                    { name: 'LIIGA Team 1', gamesPlayed: 32, wins: 22, losses: 10, points: 46 },
                    { name: 'LIIGA Team 2', gamesPlayed: 32, wins: 20, losses: 12, points: 42 },
                    { name: 'LIIGA Team 3', gamesPlayed: 32, wins: 18, losses: 14, points: 38 }
                ]
            }];
        }

        function generateAHLStandings() {
            return [{
                teamRecords: [
                    { name: 'AHL Team 1', gamesPlayed: 35, wins: 24, losses: 11, points: 50 },
                    { name: 'AHL Team 2', gamesPlayed: 35, wins: 22, losses: 13, points: 46 },
                    { name: 'AHL Team 3', gamesPlayed: 35, wins: 20, losses: 15, points: 42 }
                ]
            }];
        }

        function loadNHLDemo() {
            leagueData = {
                calendar: generateNHLDemoCalendar(),
                standings: generateNHLDemoStandings(),
                topScorers: generateNHLDemoScorers(),
                insights: []
            };
            displayCalendar();
            displayScorers();
            displayStandings();
            displayInsights();
        }

        function generateNHLDemoCalendar() {
            const matches = [];
            const teams = [
                'New York Rangers', 'Boston Bruins', 'Toronto Maple Leafs', 'Montreal Canadiens',
                'Detroit Red Wings', 'Colorado Avalanche', 'Los Angeles Kings', 'Vancouver Canucks'
            ];
            
            for (let i = 0; i < 14; i++) {
                const date = new Date();
                date.setDate(date.getDate() + i);
                const dateStr = date.toISOString().split('T')[0];
                
                matches.push({
                    date: dateStr,
                    games: [
                        {
                            gameDateTime: new Date(date.getTime() + Math.random() * 24 * 60 * 60 * 1000).toISOString(),
                            status: { abstractGameState: 'Scheduled' },
                            teams: {
                                away: { team: { name: teams[Math.floor(Math.random() * teams.length)] }, score: 0 },
                                home: { team: { name: teams[Math.floor(Math.random() * teams.length)] }, score: 0 }
                            },
                            venue: { name: 'Arena' }
                        }
                    ]
                });
            }
            return matches;
        }

        function generateNHLDemoScorers() {
            return [
                { person: { fullName: 'Connor McDavid' }, teamName: 'Edmonton Oilers', goals: 38, assists: 45 },
                { person: { fullName: 'Nathan MacKinnon' }, teamName: 'Colorado Avalanche', goals: 35, assists: 42 },
                { person: { fullName: 'Auston Matthews' }, teamName: 'Toronto Maple Leafs', goals: 42, assists: 38 },
                { person: { fullName: 'Sidney Crosby' }, teamName: 'Pittsburgh Penguins', goals: 32, assists: 40 },
                { person: { fullName: 'Artemi Panarin' }, teamName: 'New York Rangers', goals: 36, assists: 41 }
            ];
        }

        function generateNHLDemoStandings() {
            return [{
                teamRecords: [
                    { team: { name: 'Colorado Avalanche' }, gamesPlayed: 50, wins: 32, losses: 14, points: 75 },
                    { team: { name: 'Toronto Maple Leafs' }, gamesPlayed: 50, wins: 30, losses: 16, points: 72 },
                    { team: { name: 'Boston Bruins' }, gamesPlayed: 50, wins: 28, losses: 18, points: 68 }
                ]
            }];
        }

        function generateInsights(calendar) {
            return [];
        }

        function updateTime() {
            const now = new Date();
            document.getElementById('updateTime').textContent = now.toLocaleTimeString('fr-FR');
        }

        function refreshData() {
            loadAllData();
        }

        // AUTO REFRESH
        setInterval(updateTime, 60000);
    </script>
</body>
</html>
